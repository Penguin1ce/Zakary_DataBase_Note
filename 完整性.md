数据库中的**三大完整性**是指关系数据库设计中用于保证数据准确性、一致性和可靠性的重要约束规则。这三大完整性分别是：

------

### 1. **实体完整性（Entity Integrity）**

**实体完整性**的主要目的是确保每一行数据（实体）在表中是唯一可识别的。

#### 定义：

- 实体完整性要求表中的每一行数据必须有唯一标识符，即主键（Primary Key）。
- 主键的值必须满足以下条件：
  - **唯一性**：主键的值在表中是唯一的，不允许重复。
  - **非空性**：主键列的值不能为 `NULL`。

#### 作用：

实体完整性保证了数据的唯一性和可识别性，确保每一条记录都有一个唯一的身份。

#### 示例：

假设有一个 `students` 表：

| 学号 | 姓名 | 年龄 |
| ---- | ---- | ---- |
| 1001 | 张三 | 20   |
| 1002 | 李四 | 21   |

- 主键是 `学号`。
- 规则：`学号`列不能重复，也不能为 `NULL`。

------

### 2. **参照完整性（Referential Integrity）**

**参照完整性**用于维护表与表之间的引用关系的有效性。

#### 定义：

- 参照完整性通过**外键（Foreign Key）**约束来实现。
- 外键列的值必须满足以下条件：
  - **匹配规则**：外键值必须在引用表的主键列中存在，或者为 `NULL`。
  - **一致性规则**：对主表的修改（如删除或更新主键值）不能导致子表中出现“无效引用”。

#### 作用：

参照完整性确保了表之间的引用关系是合法的，避免出现孤立记录或无效引用。

#### 示例：

假设有两个表：

1. `students` 表（主表）：

   | 学号 | 姓名 |
   | ---- | ---- |
   | 1001 | 张三 |
   | 1002 | 李四 |

2. `enrollments` 表（子表）：

   | 学号 | 课程编号 |
   | ---- | -------- |
   | 1001 | C001     |
   | 1003 | C002     |

- 外键是 `enrollments` 表中的 `学号`，它引用 `students` 表的主键。
- 如果 `students` 表中没有 `1003`，那么 `enrollments` 表中的记录就会违反参照完整性。

------

### 3. **用户定义完整性（User-defined Integrity）**

**用户定义完整性**是根据具体业务需求，由用户自定义的规则和约束。

#### 定义：

- 用户定义完整性是对数据的约束，不由系统自动维护，而是由用户根据业务逻辑进行定义。
- 这些规则通常通过**约束（Constraints）**、**触发器（Triggers）**、**存储过程**或应用程序逻辑来实现。

#### 作用：

用户定义完整性用来确保数据符合业务逻辑，比如值的范围、数据格式等。

#### 示例：

- 限制年龄在 18 到 60 岁之间：

  ```sql
  ALTER TABLE students
  ADD CONSTRAINT chk_age CHECK (年龄 BETWEEN 18 AND 60);
  ```

- 限制课程编号以 

  ```
  C
  ```

   开头：

  ```sql
  ALTER TABLE courses
  ADD CONSTRAINT chk_course CHECK (课程编号 LIKE 'C%');
  ```

------

### 三大完整性的关系

- **实体完整性**：确保单个表内部的每条记录唯一、可识别。
- **参照完整性**：确保不同表之间的引用关系一致、合法。
- **用户定义完整性**：根据具体需求，补充额外的业务约束。

### 总结：

三大完整性在关系数据库中共同作用：

- **实体完整性**保证了记录的唯一性。
- **参照完整性**维护了表之间的关系一致性。
- **用户定义完整性**确保数据符合业务规则。 通过这些完整性约束，关系数据库能更好地保证数据的准确性和一致性，同时满足实际业务需求。